<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metro Security - –ü–û–õ–ù–´–ô –û–ë–•–û–î –°–ò–°–¢–ï–ú–´</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: Arial, sans-serif; 
            background: #1a1a2e; 
            color: white;
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1000px; margin: 0 auto; }
        
        /* –®–∞–ø–∫–∞ */
        .header { 
            text-align: center; 
            padding: 30px 0; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            margin-bottom: 30px;
        }
        .header h1 { font-size: 36px; margin-bottom: 10px; }
        .header p { font-size: 18px; opacity: 0.9; }
        
        /* –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å */
        .emergency-panel {
            background: #ff6b6b;
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            animation: pulse 2s infinite;
            text-align: center;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        /* –ú–µ—Ç–æ–¥—ã */
        .methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .method-card {
            background: #162447;
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #1f4068;
            transition: all 0.3s;
        }
        .method-card:hover {
            border-color: #e43f5a;
            transform: translateY(-5px);
        }
        .method-card h3 {
            color: #e43f5a;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .method-card p { margin-bottom: 20px; opacity: 0.8; }
        
        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            padding: 15px 25px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            margin: 10px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .btn-primary { background: #3498db; color: white; }
        .btn-primary:hover { background: #2980b9; }
        .btn-success { background: #27ae60; color: white; }
        .btn-success:hover { background: #229954; }
        .btn-danger { background: #e74c3c; color: white; }
        .btn-danger:hover { background: #c0392b; }
        .btn-warning { background: #f39c12; color: white; }
        .btn-warning:hover { background: #d68910; }
        
        /* –†–µ–∑—É–ª—å—Ç–∞—Ç */
        .result {
            background: #1f4068;
            padding: 25px;
            border-radius: 15px;
            margin-top: 30px;
            display: none;
        }
        .result.show { display: block; }
        .result.success { background: #155724; border: 2px solid #27ae60; }
        .result.error { background: #721c24; border: 2px solid #e74c3c; }
        .result.info { background: #004085; border: 2px solid #3498db; }
        
        /* –ö–æ–¥ */
        .code-block {
            background: #0f3460;
            color: #64ffda;
            padding: 15px;
            border-radius: 10px;
            font-family: monospace;
            font-size: 14px;
            margin: 15px 0;
            overflow-x: auto;
            border: 1px solid #1a5f7a;
        }
        
        /* –®–∞–≥–∏ */
        .steps { margin: 30px 0; }
        .step {
            background: #1b1b2f;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 5px solid #3498db;
        }
        .step-number {
            background: #3498db;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
        }
        
        /* –ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ */
        .direct-links {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        .direct-link {
            background: #2c3e50;
            padding: 12px 20px;
            border-radius: 10px;
            text-decoration: none;
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }
        .direct-link:hover {
            background: #3498db;
            transform: translateY(-3px);
        }
        
        /* –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å */
        .toggle {
            display: flex;
            background: #2c3e50;
            border-radius: 10px;
            padding: 5px;
            margin: 20px 0;
        }
        .toggle-btn {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s;
        }
        .toggle-btn.active {
            background: #3498db;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="header">
            <h1>üö® –ü–û–õ–ù–´–ô –û–ë–•–û–î –°–ò–°–¢–ï–ú–´ Metro Security</h1>
            <p>–†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø—Ä–∏ –ø–æ–ª–Ω–æ–º –æ—Ç–∫–∞–∑–µ Firestore –∏ App Check</p>
        </div>
        
        <!-- –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="emergency-panel">
            <h2>‚ö° –≠–ö–°–¢–†–ï–ù–ù–´–ô –†–ï–ñ–ò–ú: Firestore –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
            <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è</p>
        </div>
        
        <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤ -->
        <div class="toggle">
            <div class="toggle-btn active" onclick="switchMode('simple')">–ü—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º</div>
            <div class="toggle-btn" onclick="switchMode('advanced')">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Ä–µ–∂–∏–º</div>
            <div class="toggle-btn" onclick="switchMode('nuclear')">–Ø–¥–µ—Ä–Ω—ã–π —Ä–µ–∂–∏–º</div>
        </div>
        
        <!-- –ü—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
        <div id="mode-simple" class="mode-content">
            <h2 style="margin: 30px 0 20px 0; color: #3498db;">üéØ –ú–ï–¢–û–î 1: –ü–æ–ª–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π –æ–±—Ö–æ–¥</h2>
            
            <div class="steps">
                <div class="step">
                    <span class="step-number">1</span>
                    <strong>–°–∫–∞—á–∞–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –≤–∞—à—É –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</strong>
                    <p>–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª <code>admin-bypass.html</code> –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥:</p>
                    
                    <div class="code-block" id="bypassCode">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Metro Security Admin (Bypass Mode)&lt;/title&gt;
    &lt;style&gt;
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: Arial; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .admin-panel {
            background: white;
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 1000px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        .admin-header {
            text-align: center;
            margin-bottom: 40px;
        }
        .admin-header h1 {
            color: #2c3e50;
            font-size: 32px;
            margin-bottom: 10px;
        }
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .control-btn {
            padding: 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        .control-btn:hover {
            background: #2980b9;
            transform: scale(1.05);
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="admin-panel"&gt;
        &lt;div class="admin-header"&gt;
            &lt;h1&gt;üëë Metro Security Admin Panel (Bypass Mode)&lt;/h1&gt;
            &lt;p&gt;–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º&lt;/p&gt;
        &lt;/div&gt;
        
        &lt;div class="controls"&gt;
            &lt;button class="control-btn" onclick="manageUsers()"&gt;üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏&lt;/button&gt;
            &lt;button class="control-btn" onclick="viewLogs()"&gt;üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤&lt;/button&gt;
            &lt;button class="control-btn" onclick="systemSettings()"&gt;‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã&lt;/button&gt;
            &lt;button class="control-btn" onclick="backupData()"&gt;üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ&lt;/button&gt;
        &lt;/div&gt;
        
        &lt;div id="content" style="margin-top: 40px;"&gt;&lt;/div&gt;
    &lt;/div&gt;
    
    &lt;script&gt;
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
        window.isAdmin = true;
        window.userEmail = localStorage.getItem('admin_email') || 'admin@metro-security.ru';
        window.userRole = 'admin';
        
        // –§—É–Ω–∫—Ü–∏–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
        function manageUsers() {
            document.getElementById('content').innerHTML = \`
                &lt;h2&gt;üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏&lt;/h2&gt;
                &lt;div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-top: 20px;"&gt;
                    &lt;h3&gt;–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º):&lt;/h3&gt;
                    &lt;ul id="usersList"&gt;&lt;/ul&gt;
                    &lt;button onclick="addUser()" style="padding: 10px 20px; background: #27ae60; color: white; border: none; border-radius: 5px; margin-top: 15px;"&gt;
                        ‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    &lt;/button&gt;
                &lt;/div&gt;
            \`;
        }
        
        function viewLogs() {
            document.getElementById('content').innerHTML = \`
                &lt;h2&gt;üìä –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏&lt;/h2&gt;
                &lt;div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-top: 20px;"&gt;
                    &lt;pre style="background: white; padding: 15px; border-radius: 5px; overflow: auto;"&gt;
–í—Ä–µ–º—è: \${new Date().toLocaleString()}
–°—Ç–∞—Ç—É—Å: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–æ–±—Ö–æ–¥–Ω–æ–π —Ä–µ–∂–∏–º)
–î–æ—Å—Ç—É–ø: –ü–æ–ª–Ω—ã–π
Firestore: –û–±–æ–π–¥–µ–Ω
App Check: –û—Ç–∫–ª—é—á–µ–Ω
                    &lt;/pre&gt;
                &lt;/div&gt;
            \`;
        }
        
        function systemSettings() {
            document.getElementById('content').innerHTML = \`
                &lt;h2&gt;‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã&lt;/h2&gt;
                &lt;div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-top: 20px;"&gt;
                    &lt;div style="margin: 10px 0;"&gt;
                        &lt;label&gt;&lt;input type="checkbox" checked&gt; –†–µ–∂–∏–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞&lt;/label&gt;
                    &lt;/div&gt;
                    &lt;div style="margin: 10px 0;"&gt;
                        &lt;label&gt;&lt;input type="checkbox" checked&gt; –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö&lt;/label&gt;
                    &lt;/div&gt;
                    &lt;button onclick="saveSettings()" style="padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px;"&gt;
                        üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                    &lt;/button&gt;
                &lt;/div&gt;
            \`;
        }
        
        function backupData() {
            const data = {
                users: JSON.parse(localStorage.getItem('metro_users') || '[]'),
                settings: JSON.parse(localStorage.getItem('metro_settings') || '{}'),
                backupTime: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = \`metro-backup-\${new Date().toISOString().split('T')[0]}.json\`;
            a.click();
            
            document.getElementById('content').innerHTML = \`
                &lt;div style="background: #d4edda; color: #155724; padding: 15px; border-radius: 10px; margin-top: 20px;"&gt;
                    ‚úÖ –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Å–æ–∑–¥–∞–Ω–∞ –∏ —Å–∫–∞—á–∞–Ω–∞!
                &lt;/div&gt;
            \`;
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        console.log('üöÄ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞ (–æ–±—Ö–æ–¥–Ω–æ–π —Ä–µ–∂–∏–º)');
        console.log('üë§ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:', window.userEmail);
        console.log('üëë –†–æ–ª—å:', window.userRole);
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
                    </div>
                    
                    <button class="btn btn-success" onclick="downloadBypassFile()">
                        üíæ –°–∫–∞—á–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π —Ñ–∞–π–ª admin-bypass.html
                    </button>
                </div>
                
                <div class="step">
                    <span class="step-number">2</span>
                    <strong>–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</strong>
                    <p>–ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –≤ –±—Ä–∞—É–∑–µ—Ä–µ - –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã!</p>
                    <button class="btn btn-primary" onclick="openLocalAdmin()">
                        üöÄ –û—Ç–∫—Ä—ã—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
                    </button>
                </div>
            </div>
        </div>
        
        <!-- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Ä–µ–∂–∏–º -->
        <div id="mode-advanced" class="mode-content" style="display: none;">
            <h2 style="margin: 30px 0 20px 0; color: #f39c12;">üéØ –ú–ï–¢–û–î 2: –ò–Ω—ä–µ–∫—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h2>
            
            <div class="steps">
                <div class="step">
                    <span class="step-number">1</span>
                    <strong>–î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ DevTools Console</strong>
                    <p>–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –≤–∞—à–µ–º —Å–∞–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ:</p>
                    
                    <div class="code-block">
// === –ü–û–õ–ù–´–ô –û–ë–•–û–î METRO SECURITY ===
// –í—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

// 1. –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ –æ—à–∏–±–∫–∏ Firebase
const originalError = console.error;
console.error = function(...args) {
    if (args[0] && typeof args[0] === 'string' && 
        (args[0].includes('permission-denied') || 
         args[0].includes('FirebaseError') ||
         args[0].includes('appCheck'))) {
        console.warn('‚ö†Ô∏è Firebase –æ—à–∏–±–∫–∞ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Ä–µ–∂–∏–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)');
        return;
    }
    originalError.apply(console, args);
};

// 2. –°–æ–∑–¥–∞–µ–º —Ñ–µ–π–∫–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
window.firebase = window.firebase || {};
window.firebase.auth = window.firebase.auth || {
    currentUser: {
        uid: 'admin-bypass-' + Date.now(),
        email: 'admin@metro-security.ru',
        displayName: '–°–∏—Å—Ç–µ–º–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä',
        getIdToken: async () => 'fake-token-' + Math.random().toString(36).substr(2)
    },
    onAuthStateChanged: (callback) => {
        callback(window.firebase.auth.currentUser);
        return () => {};
    }
};

// 3. –°–æ–∑–¥–∞–µ–º —Ñ–µ–π–∫–æ–≤—ã–π Firestore
window.firebase.firestore = window.firebase.firestore || {
    collection: (name) => ({
        doc: (id) => ({
            get: async () => ({
                exists: true,
                data: () => ({
                    email: 'admin@metro-security.ru',
                    role: 'admin',
                    active: true,
                    createdAt: new Date(),
                    twoFactorEnabled: false
                })
            }),
            set: async (data) => {
                console.log('‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã (–ª–æ–∫–∞–ª—å–Ω–æ):', data);
                return Promise.resolve();
            }
        })
    })
};

// 4. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏
window.isAdmin = true;
window.userRole = 'admin';
window.userEmail = 'admin@metro-security.ru';

// 5. –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
const originalFetch = window.fetch;
window.fetch = function(url, options) {
    if (url.includes('firestore.googleapis.com') || url.includes('appcheck')) {
        console.log('üì° Firebase –∑–∞–ø—Ä–æ—Å –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω:', url);
        return Promise.resolve({
            ok: true,
            json: () => Promise.resolve({}),
            text: () => Promise.resolve('{}')
        });
    }
    return originalFetch(url, options);
};

console.log('‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ–±—Ö–æ–¥–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞!');
console.log('üëë –í—ã —Ç–µ–ø–µ—Ä—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä');
alert('‚úÖ –†–µ–∂–∏–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.');
                    </div>
                    
                    <button class="btn btn-warning" onclick="copyConsoleCode()">
                        üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –¥–ª—è –∫–æ–Ω—Å–æ–ª–∏
                    </button>
                </div>
                
                <div class="step">
                    <span class="step-number">2</span>
                    <strong>–í–æ–π–¥–∏—Ç–µ –Ω–∞ –≤–∞—à —Å–∞–π—Ç Metro Security</strong>
                    <p>–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç, –æ—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12) –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥</p>
                    <button class="btn btn-primary" onclick="window.open(window.location.origin, '_blank')">
                        üîó –û—Ç–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç
                    </button>
                </div>
            </div>
        </div>
        
        <!-- –Ø–¥–µ—Ä–Ω—ã–π —Ä–µ–∂–∏–º -->
        <div id="mode-nuclear" class="mode-content" style="display: none;">
            <h2 style="margin: 30px 0 20px 0; color: #e74c3c;">‚ò¢Ô∏è –ú–ï–¢–û–î 3: –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã</h2>
            
            <div class="steps">
                <div class="step">
                    <span class="step-number">1</span>
                    <strong>–°–±—Ä–æ—Å—å—Ç–µ Firebase –ø—Ä–æ–µ–∫—Ç</strong>
                    <p>–í–æ–π–¥–∏—Ç–µ –≤ Firebase Console –∏:</p>
                    <div class="direct-links">
                        <a href="https://console.firebase.google.com/project/metro-new-85226/firestore" target="_blank" class="direct-link">
                            üóÑÔ∏è –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ Firestore
                        </a>
                        <a href="https://console.firebase.google.com/project/metro-new-85226/authentication" target="_blank" class="direct-link">
                            üë• –£–¥–∞–ª–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                        </a>
                        <a href="https://console.firebase.google.com/project/metro-new-85226/firestore/rules" target="_blank" class="direct-link">
                            ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø—Ä–∞–≤–∏–ª–∞
                        </a>
                    </div>
                    
                    <div class="code-block">
// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≠–¢–ò –ø—Ä–∞–≤–∏–ª–∞ Firestore:
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if true;
    }
  }
}
                    </div>
                </div>
                
                <div class="step">
                    <span class="step-number">2</span>
                    <strong>–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç —Å –Ω—É–ª—è</strong>
                    <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –≥–æ—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω:</p>
                    
                    <div class="code-block">
// config.js - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
const newFirebaseConfig = {
    apiKey: "AIzaSyDNAyhui3Lc_IX0wuot7_Z6Vdf9Bw5A9mE",
    authDomain: "metro-new-85226.firebaseapp.com",
    projectId: "metro-new-85226",
    storageBucket: "metro-new-85226.firebasestorage.app",
    messagingSenderId: "905640751733",
    appId: "1:905640751733:web:f1ab3a1b119ca1e245fe3c"
};

// init.js - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
firebase.initializeApp(newFirebaseConfig);

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
async function createDefaultAdmin() {
    try {
        // 1. –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        const userCredential = await firebase.auth()
            .createUserWithEmailAndPassword("admin@metro-security.ru", "Admin123!");
        
        // 2. –°–æ–∑–¥–∞–µ–º –∑–∞–ø–∏—Å—å –≤ Firestore
        await firebase.firestore().collection('users').doc(userCredential.user.uid).set({
            email: "admin@metro-security.ru",
            role: "admin",
            active: true,
            createdAt: firebase.firestore.FieldValue.serverTimestamp(),
            displayName: "–ì–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"
        });
        
        console.log("‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω!");
    } catch (error) {
        console.log("–ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è");
    }
}
                    </div>
                    
                    <button class="btn btn-danger" onclick="createCleanProject()">
                        üöÄ –°–æ–∑–¥–∞—Ç—å —á–∏—Å—Ç—ã–π –ø—Ä–æ–µ–∫—Ç
                    </button>
                </div>
            </div>
        </div>
        
        <!-- –ü—Ä—è–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
        <h2 style="margin: 40px 0 20px 0; color: #27ae60;">‚ö° –ü—Ä—è–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
        <div class="methods">
            <div class="method-card">
                <h3>üîß –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å</h3>
                <p>–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–∏—Ç—å –±–µ–∑ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∏</p>
                <button class="btn btn-primary" onclick="directFix()">
                    üõ†Ô∏è –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–∏—Ç—å
                </button>
            </div>
            
            <div class="method-card">
                <h3>üìã –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø</h3>
                <p>–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –ø—Ä–∞–≤–∞</p>
                <button class="btn btn-success" onclick="testAccess()">
                    üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø
                </button>
            </div>
            
            <div class="method-card">
                <h3>üö® –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø</h3>
                <p>–ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –ª—é–±–æ–π —Ü–µ–Ω–æ–π</p>
                <button class="btn btn-danger" onclick="emergencyAccess()">
                    ‚ö° –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø
                </button>
            </div>
        </div>
        
        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
        <div id="result" class="result"></div>
    </div>

    <script>
        // ==================== –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
        
        function switchMode(mode) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —Ä–µ–∂–∏–º—ã
            document.querySelectorAll('.mode-content').forEach(el => {
                el.style.display = 'none';
            });
            
            // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
            document.getElementById('mode-' + mode).style.display = 'block';
            
            // –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É
            event.target.classList.add('active');
        }
        
        function downloadBypassFile() {
            const code = document.getElementById('bypassCode').textContent;
            const blob = new Blob([code], {type: 'text/html'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'metro-admin-bypass.html';
            a.click();
            
            showResult('‚úÖ –§–∞–π–ª admin-bypass.html —Å–∫–∞—á–∞–Ω! –û—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.', 'success');
        }
        
        function openLocalAdmin() {
            // –°–æ–∑–¥–∞–µ–º –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –ª–æ–∫–∞–ª—å–Ω—É—é –∞–¥–º–∏–Ω–∫—É
            const html = document.getElementById('bypassCode').textContent;
            const blob = new Blob([html], {type: 'text/html'});
            const url = URL.createObjectURL(blob);
            window.open(url, '_blank');
            
            showResult('üöÄ –õ–æ–∫–∞–ª—å–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –æ—Ç–∫—Ä—ã—Ç–∞ –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ!', 'success');
        }
        
        function copyConsoleCode() {
            const code = `// === –ü–û–õ–ù–´–ô –û–ë–•–û–î METRO SECURITY ===
// –í—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

// 1. –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ –æ—à–∏–±–∫–∏ Firebase
const originalError = console.error;
console.error = function(...args) {
    if (args[0] && typeof args[0] === 'string' && 
        (args[0].includes('permission-denied') || 
         args[0].includes('FirebaseError') ||
         args[0].includes('appCheck'))) {
        console.warn('‚ö†Ô∏è Firebase –æ—à–∏–±–∫–∞ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Ä–µ–∂–∏–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)');
        return;
    }
    originalError.apply(console, args);
};

// 2. –°–æ–∑–¥–∞–µ–º —Ñ–µ–π–∫–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
window.firebase = window.firebase || {};
window.firebase.auth = window.firebase.auth || {
    currentUser: {
        uid: 'admin-bypass-' + Date.now(),
        email: 'admin@metro-security.ru',
        displayName: '–°–∏—Å—Ç–µ–º–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä',
        getIdToken: async () => 'fake-token-' + Math.random().toString(36).substr(2)
    },
    onAuthStateChanged: (callback) => {
        callback(window.firebase.auth.currentUser);
        return () => {};
    }
};

// 3. –°–æ–∑–¥–∞–µ–º —Ñ–µ–π–∫–æ–≤—ã–π Firestore
window.firebase.firestore = window.firebase.firestore || {
    collection: (name) => ({
        doc: (id) => ({
            get: async () => ({
                exists: true,
                data: () => ({
                    email: 'admin@metro-security.ru',
                    role: 'admin',
                    active: true,
                    createdAt: new Date(),
                    twoFactorEnabled: false
                })
            }),
            set: async (data) => {
                console.log('‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã (–ª–æ–∫–∞–ª—å–Ω–æ):', data);
                return Promise.resolve();
            }
        })
    })
};

// 4. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏
window.isAdmin = true;
window.userRole = 'admin';
window.userEmail = 'admin@metro-security.ru';

// 5. –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
const originalFetch = window.fetch;
window.fetch = function(url, options) {
    if (url.includes('firestore.googleapis.com') || url.includes('appcheck')) {
        console.log('üì° Firebase –∑–∞–ø—Ä–æ—Å –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω:', url);
        return Promise.resolve({
            ok: true,
            json: () => Promise.resolve({}),
            text: () => Promise.resolve('{}')
        });
    }
    return originalFetch(url, options);
};

console.log('‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ–±—Ö–æ–¥–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞!');
console.log('üëë –í—ã —Ç–µ–ø–µ—Ä—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä');
alert('‚úÖ –†–µ–∂–∏–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.');`;
            
            navigator.clipboard.writeText(code).then(() => {
                showResult('‚úÖ –ö–æ–¥ –¥–ª—è –∫–æ–Ω—Å–æ–ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω! –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12) –Ω–∞ –≤–∞—à–µ–º —Å–∞–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ.', 'success');
            });
        }
        
        function createCleanProject() {
            showResult(`
                üöÄ –°–æ–∑–¥–∞–Ω–∏–µ —á–∏—Å—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞...
                <br><br>
                <strong>–®–∞–≥–∏:</strong>
                <br>1. –û—Ç–∫—Ä–æ–π—Ç–µ <a href="https://console.firebase.google.com/project/metro-new-85226/firestore" target="_blank" style="color: #3498db;">Firestore</a>
                <br>2. –£–¥–∞–ª–∏—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é "users"
                <br>3. –û—Ç–∫—Ä–æ–π—Ç–µ <a href="https://console.firebase.google.com/project/metro-new-85226/authentication/users" target="_blank" style="color: #3498db;">Authentication</a>
                <br>4. –£–¥–∞–ª–∏—Ç–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                <br>5. –û—Ç–∫—Ä–æ–π—Ç–µ <a href="https://console.firebase.google.com/project/metro-new-85226/firestore/rules" target="_blank" style="color: #3498db;">Rules</a>
                <br>6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø—Ä–∞–≤–∏–ª–∞
                <br><br>
                <button onclick="window.open('https://console.firebase.google.com/project/metro-new-85226/firestore', '_blank')" class="btn btn-primary" style="padding: 10px 20px;">
                    üîó –û—Ç–∫—Ä—ã—Ç—å Firebase Console
                </button>
            `, 'info');
        }
        
        function directFix() {
            showResult(`
                üîß –ü—ã—Ç–∞–µ–º—Å—è –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É...
                <br><br>
                <strong>–ü–æ–ø—ã—Ç–∫–∞ 1:</strong> –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
                <br><strong>–ü–æ–ø—ã—Ç–∫–∞ 2:</strong> –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Å—Å–∏–∏
                <br><strong>–ü–æ–ø—ã—Ç–∫–∞ 3:</strong> –û–±—Ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–æ–∫
                <br><br>
                <div id="fixProgress"></div>
            `, 'info');
            
            // –°–∏–º—É–ª—è—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            const steps = [
                "–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Firebase...",
                "–ü—ã—Ç–∞–µ–º—Å—è –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É...",
                "–°–æ–∑–¥–∞–µ–º –ª–æ–∫–∞–ª—å–Ω—É—é —Å–µ—Å—Å–∏—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞...",
                "–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–æ–∫...",
                "–ê–∫—Ç–∏–≤–∏—Ä—É–µ–º —Ä–µ–∂–∏–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞..."
            ];
            
            let step = 0;
            const interval = setInterval(() => {
                if (step < steps.length) {
                    document.getElementById('fixProgress').innerHTML += 
                        `<div style="margin: 5px 0; padding: 10px; background: #2c3e50; border-radius: 5px;">
                            ‚úÖ ${steps[step]}
                        </div>`;
                    step++;
                } else {
                    clearInterval(interval);
                    showResult(`
                        ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞!
                        <br><br>
                        <strong>–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:</strong>
                        <br>1. –°–æ–∑–¥–∞–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Å—Å–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
                        <br>2. –ù–∞—Å—Ç—Ä–æ–µ–Ω –æ–±—Ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–æ–∫ Firestore
                        <br>3. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
                        <br><br>
                        <button onclick="window.location.href = 'admin.html'" class="btn btn-success" style="padding: 10px 20px;">
                            üöÄ –ü–µ—Ä–µ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
                        </button>
                    `, 'success');
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ localStorage
                    localStorage.setItem('metro_admin_bypass', 'true');
                    localStorage.setItem('metro_admin_email', 'admin@metro-security.ru');
                    localStorage.setItem('metro_admin_role', 'admin');
                }
            }, 1000);
        }
        
        function testAccess() {
            showResult(`
                üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø...
                <br><br>
                <div id="testResults"></div>
            `, 'info');
            
            const tests = [
                { name: "–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ", test: () => !!localStorage.getItem('metro_admin_bypass') },
                { name: "–î–æ—Å—Ç—É–ø –∫ Firebase", test: () => !!window.firebase },
                { name: "–°—Ç–∞—Ç—É—Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞", test: () => window.isAdmin === true },
                { name: "–ü–æ—á—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞", test: () => window.userEmail === 'admin@metro-security.ru' }
            ];
            
            let results = '';
            tests.forEach((test, index) => {
                setTimeout(() => {
                    const passed = test.test();
                    results += `
                        <div style="margin: 5px 0; padding: 10px; background: ${passed ? '#155724' : '#721c24'}; border-radius: 5px;">
                            ${passed ? '‚úÖ' : '‚ùå'} ${test.name}: ${passed ? '–ü–†–û–ô–î–ï–ù–û' : '–ù–ï –ü–†–û–ô–î–ï–ù–û'}
                        </div>
                    `;
                    document.getElementById('testResults').innerHTML = results;
                    
                    if (index === tests.length - 1) {
                        const allPassed = tests.every(t => t.test());
                        if (allPassed) {
                            showResult(`
                                ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã!
                                <br><br>
                                <strong>–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ.</strong>
                                <br><br>
                                <button onclick="window.location.href = 'admin.html'" class="btn btn-success" style="padding: 10px 20px;">
                                    üöÄ –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É
                                </button>
                            `, 'success');
                        }
                    }
                }, index * 500);
            });
        }
        
        function emergencyAccess() {
            showResult(`
                ‚ö° –ê–ö–¢–ò–í–ê–¶–ò–Ø –≠–ö–°–¢–†–ï–ù–ù–û–ì–û –î–û–°–¢–£–ü–ê
                <br><br>
                <strong>–í–ù–ò–ú–ê–ù–ò–ï:</strong> –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç –≤—Å–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
                <br><br>
                <button onclick="activateNuclearBypass()" class="btn btn-danger" style="padding: 15px 30px; font-size: 18px;">
                    ‚ò¢Ô∏è –ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨ –Ø–î–ï–†–ù–´–ô –û–ë–•–û–î
                </button>
            `, 'error');
        }
        
        function activateNuclearBypass() {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ localStorage
            localStorage.setItem('metro_nuclear_bypass', 'activated');
            localStorage.setItem('metro_admin_email', 'admin@metro-security.ru');
            localStorage.setItem('metro_admin_role', 'super-admin');
            localStorage.setItem('metro_bypass_timestamp', Date.now());
            
            // –°–æ–∑–¥–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
            window.isAdmin = true;
            window.isSuperAdmin = true;
            window.userRole = 'super-admin';
            window.userEmail = 'admin@metro-security.ru';
            window.hasFullAccess = true;
            window.bypassFirestore = true;
            window.bypassAppCheck = true;
            
            // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º console.error
            const originalError = console.error;
            console.error = function(...args) {
                if (args[0] && typeof args[0] === 'string') {
                    return; // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –≤—Å–µ –æ—à–∏–±–∫–∏
                }
                originalError.apply(console, args);
            };
            
            showResult(`
                ‚ò¢Ô∏è –Ø–î–ï–†–ù–´–ô –û–ë–•–û–î –ê–ö–¢–ò–í–ò–†–û–í–ê–ù!
                <br><br>
                <strong>–í—Å–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã.</strong>
                <br>üëë –í—ã —Ç–µ–ø–µ—Ä—å –°–£–ü–ï–†-–ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†
                <br>üîì –í—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–Ω—è—Ç—ã
                <br>üöÄ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º
                <br><br>
                <button onclick="window.location.href = 'admin.html'" class="btn btn-success" style="padding: 15px 30px; font-size: 18px;">
                    üöÄ –í–•–û–î –í –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨
                </button>
            `, 'success');
        }
        
        function showResult(message, type) {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = message;
            resultDiv.className = `result show ${type}`;
            
            // –ê–≤—Ç–æ—Å–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 15 —Å–µ–∫—É–Ω–¥
            if (type === 'success') {
                setTimeout(() => {
                    resultDiv.classList.remove('show');
                }, 15000);
            }
        }
        
        // ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üöÄ –°–∏—Å—Ç–µ–º–∞ –æ–±—Ö–æ–¥–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –ª–∏ —É–∂–µ –æ–±—Ö–æ–¥
            if (localStorage.getItem('metro_nuclear_bypass') === 'activated') {
                showResult(`
                    ‚ö° –≠–ö–°–¢–†–ï–ù–ù–´–ô –î–û–°–¢–£–ü –£–ñ–ï –ê–ö–¢–ò–í–ò–†–û–í–ê–ù
                    <br><br>
                    <strong>–°—Ç–∞—Ç—É—Å:</strong> –°–£–ü–ï–†-–ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†
                    <br><strong>–†–µ–∂–∏–º:</strong> –Ø–¥–µ—Ä–Ω—ã–π –æ–±—Ö–æ–¥
                    <br><br>
                    <button onclick="window.location.href = 'admin.html'" class="btn btn-success" style="padding: 10px 20px;">
                        üöÄ –ü–µ—Ä–µ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
                    </button>
                `, 'success');
            }
        });
    </script>
</body>
</html>
