<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ–π –∞–∫–∫–∞—É–Ω—Ç - Metro.New.Official</title>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
    <div class="account-container">
        <div class="account-header">
            <h1>üë§ –ú–æ–π –∞–∫–∫–∞—É–Ω—Ç</h1>
            <button onclick="exitAccount()" class="btn-secondary">üö™ –í—ã–π—Ç–∏</button>
        </div>
        
        <div class="account-card">
            <div class="user-info">
                <h2>–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                <div id="userDetails">
                    <!-- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>
            
            <div class="account-actions">
                <h2>–î–µ–π—Å—Ç–≤–∏—è</h2>
                <div class="action-buttons">
                    <button onclick="editProfile()" class="btn-action">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
                    <button onclick="changePassword()" class="btn-action">üîí –°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
                    <button onclick="viewHistory()" class="btn-action">üìä –ò—Å—Ç–æ—Ä–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</button>
                    <button onclick="showSettings()" class="btn-action">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </div>
            </div>
            
            <div class="account-stats">
                <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-number" id="daysCount">0</span>
                        <span class="stat-label">–¥–Ω–µ–π —Å –Ω–∞–º–∏</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="loginCount">1</span>
                        <span class="stat-label">–≤—Ö–æ–¥–æ–≤ –≤ —Å–∏—Å—Ç–µ–º—É</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        const userData = localStorage.getItem('metro_user');
        if (!userData) {
            alert('–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É!');
            window.location.href = 'enter.html';
        }

        const user = JSON.parse(userData);
        
        // –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        document.getElementById('userDetails').innerHTML = `
            <p><strong>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</strong> ${user.username || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</p>
            <p><strong>Email:</strong> ${user.email || '–ù–µ —É–∫–∞–∑–∞–Ω'}</p>
            <p><strong>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong> ${user.joinDate || new Date().toLocaleDateString()}</p>
            <p><strong>–°—Ç–∞—Ç—É—Å:</strong> ${user.isNew ? 'üÜï –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å' : '‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–π'}</p>
        `;

        // –§—É–Ω–∫—Ü–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞
        function editProfile() {
            const newUsername = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', user.username);
            if (newUsername) {
                user.username = newUsername;
                localStorage.setItem('metro_user', JSON.stringify(user));
                location.reload();
            }
        }

        function changePassword() {
            alert('–§—É–Ω–∫—Ü–∏—è —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏!');
        }

        function viewHistory() {
            alert('–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:\n‚Ä¢ –í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç: —Å–µ–≥–æ–¥–Ω—è\n‚Ä¢ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: ${user.joinDate}');
        }

        function showSettings() {
            alert('–†–∞–∑–¥–µ–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!');
        }

        function exitAccount() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?')) {
                localStorage.removeItem('metro_user');
                window.location.href = 'enter.html';
            }
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        document.getElementById('daysCount').textContent = 
            Math.floor((new Date() - new Date(user.joinDate || new Date())) / (1000 * 60 * 60 * 24)) + 1;
    </script>
</body>
</html>
