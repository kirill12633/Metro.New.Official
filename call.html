<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Google Auth Step by Step</title>
    <script src="accounts.google.com" async defer></script>
</head>
<body style="font-family: sans-serif; padding: 20px;">

    <h2>1. Ваш путь для Google Console:</h2>
    <!-- Сюда скрипт сам напишет нужный адрес -->
    <div id="my_path" style="background: #eee; padding: 10px; border: 1px dashed #000; font-weight: bold; color: blue;">Определяю путь...</div>

    <h2>2. Кнопка входа:</h2>
    <div id="g_id_onload"
         data-client_id="660870444962-d60ace1uae0u0g2t26e8qtq8240qu1qd.apps.googleusercontent.com"
         data-callback="onSignIn"
         data-auto_prompt="false">
    </div>
    <div class="g_id_signin" data-type="standard"></div>

    <h2>3. Результат:</h2>
    <textarea id="result_text" style="width: 100%; height: 100px;" placeholder="Тут появятся ваши данные..."></textarea>

    <script>
        // Показываем текущий адрес сайта
        document.getElementById('my_path').innerText = window.location.origin;

        function onSignIn(response) {
            // Раскодируем данные
            const payload = JSON.parse(atob(response.credential.split('.')[1].replace(/-/g, '+').replace(/_/g, '/')));
            
            // Пишем в текстовое поле
            document.getElementById('result_text').value = "ПРИВЕТ, " + payload.name + "!\nВаш Email: " + payload.email;
            alert("Вы успешно вошли как " + payload.name);
        }
    </script>
</body>
</html>
